package advent2020;

import advent2020.day03.TobogganTrajectory;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class TobogganTrajectoryTest {

    @Test
    public void testExample1() {
        String input = "..##.......\n" +
                "#...#...#..\n" +
                ".#....#..#.\n" +
                "..#.#...#.#\n" +
                ".#...##..#.\n" +
                "..#.##.....\n" +
                ".#.#.#....#\n" +
                ".#........#\n" +
                "#.##...#...\n" +
                "#...##....#\n" +
                ".#..#...#.#";
        TobogganTrajectory trajectory = new TobogganTrajectory(input);
        assertEquals(7, trajectory.countTreesForSlope(3, 1));
    }

    @Test
    public void testPartOne() {
        TobogganTrajectory trajectory = new TobogganTrajectory(problemInput);
        assertEquals(171, trajectory.countTreesForSlope(3, 1));
    }

    @Test
    public void testExample2() {
        String input = "..##.......\n" +
                "#...#...#..\n" +
                ".#....#..#.\n" +
                "..#.#...#.#\n" +
                ".#...##..#.\n" +
                "..#.##.....\n" +
                ".#.#.#....#\n" +
                ".#........#\n" +
                "#.##...#...\n" +
                "#...##....#\n" +
                ".#..#...#.#";
        TobogganTrajectory trajectory = new TobogganTrajectory(input);
        int a = trajectory.countTreesForSlope(1, 1);
        int b = trajectory.countTreesForSlope(3, 1);
        int c = trajectory.countTreesForSlope(5, 1);
        int d = trajectory.countTreesForSlope(7, 1);
        int e = trajectory.countTreesForSlope(1, 2);
        assertEquals(336, (a * b * c * d * e));
    }

    @Test
    public void testPartTwo() {
        TobogganTrajectory trajectory = new TobogganTrajectory(problemInput);
        int a = trajectory.countTreesForSlope(1, 1);
        int b = trajectory.countTreesForSlope(3, 1);
        int c = trajectory.countTreesForSlope(5, 1);
        int d = trajectory.countTreesForSlope(7, 1);
        int e = trajectory.countTreesForSlope(1, 2);
        assertEquals(1206576000, (a * b * c * d * e));
    }

    private String problemInput = "............#....#.............\n" +
            "...........##....#......#..#..#\n" +
            "......#.......#......#.........\n" +
            "..#.#....#....#.............##.\n" +
            "..#........####....#...#.......\n" +
            "..##.....#.#.#..#.........#....\n" +
            "...#.#..#..#....#..#..#........\n" +
            "#.......#.........#....##.###..\n" +
            "......##..#.#...#.......#.#....\n" +
            "................##.........#.##\n" +
            "..##..........#...#.........#.#\n" +
            "..........#...##...............\n" +
            "#...#......#..#.#..#...##..#...\n" +
            "..##....#.......#......#..#....\n" +
            "....#......#......#....#.......\n" +
            ".........#.....#..#............\n" +
            ".#...#.#.........#........#....\n" +
            "#..........####.....#..........\n" +
            "......##.....#....#..#........#\n" +
            "#......#......#...........#....\n" +
            "....#.........#....#...#..#..#.\n" +
            ".#........#......#.#.....#.....\n" +
            "..#.#.#..........#....#.......#\n" +
            "......#.#........##....##....##\n" +
            ".....#.#..#...#................\n" +
            "......#......##...............#\n" +
            "..#..##.............#...##.....\n" +
            "......##......##..#......#.....\n" +
            "....#.............#..##.....##.\n" +
            "........#...............##.....\n" +
            "..#......#.##..#...#....#...#..\n" +
            "#......#.......#.............#.\n" +
            ".....#....##..............#....\n" +
            "#.#.........#....#..##....#....\n" +
            ".#...#...#....#.#............#.\n" +
            "...#...#.#..##.##.......##.....\n" +
            "......#..#....##..#.#..#..#....\n" +
            ".......##..#..#......#..#.....#\n" +
            ".##..#......#..........#....#..\n" +
            ".....#................#..#....#\n" +
            "........#..#....#.......#....#.\n" +
            "..#......#.......#......#....#.\n" +
            "....#...#.##........##....#....\n" +
            ".....#........#...........#....\n" +
            "...#....##..........#..#...#.#.\n" +
            "...#.......#......#...##...#...\n" +
            ".#.....#........#........#.#..#\n" +
            ".#.........#..##.....#.......#.\n" +
            "....#..#....#.......#......#...\n" +
            ".#.#...##..##................##\n" +
            "......#.#...#.......#....#....#\n" +
            "........#....#..#.....#......#.\n" +
            ".......#..........#......#.....\n" +
            "...............................\n" +
            "..#..#####..#..#..........#.#..\n" +
            ".....#....##................#.#\n" +
            ".................##............\n" +
            ".#...#...#..#...........#...##.\n" +
            "..#..#.#...........#.....##....\n" +
            ".#.......#.....#..##..#.#....#.\n" +
            "..........#.#......##...##.....\n" +
            "........##..#......##...#......\n" +
            "#......................#.......\n" +
            "............#.....#....#.#...#.\n" +
            "#......#..........##..#........\n" +
            ".........#.......#...#.#.......\n" +
            "...........##....#........#....\n" +
            "#........#.....#...#........##.\n" +
            ".#......##......#.##.......#..#\n" +
            ".....#......#.#......#.......#.\n" +
            ".....#.#.........#.............\n" +
            "...........#..#....#.....#.#...\n" +
            "...#............#...#..........\n" +
            "..#..#...#.....................\n" +
            "......#..#...#....#............\n" +
            ".#.#.#........#..#...#.........\n" +
            "..........#........#..#........\n" +
            "..............#...#....#.......\n" +
            "..#....#....##.......#...#.##..\n" +
            ".#.........#...#......#........\n" +
            "..#......#...#.........##.#...#\n" +
            "...#.....#...#..#.............#\n" +
            ".##........#.#.#.............#.\n" +
            "..#.............#..#.#...#....#\n" +
            "#...#.........#......#......#..\n" +
            ".......##..#.#..........#...#..\n" +
            ".......#.............#..#.#....\n" +
            ".#..#....#.#...................\n" +
            "....##...#..#....#..#..........\n" +
            "....#.#............#...........\n" +
            "###........##..#.#..#..........\n" +
            ".#.#.#.......#...........#..#.#\n" +
            "..........##..#.............#..\n" +
            ".#...........#......#.#..#..##.\n" +
            "...###......#.##........#.....#\n" +
            "....#..#..#...#................\n" +
            "...#.....#........#............\n" +
            "....#...#...#..#..##.##.......#\n" +
            "#.......#......#....#.......#..\n" +
            "#.............#...#............\n" +
            "##......#..#...#....##.#...#...\n" +
            ".##....................#....#..\n" +
            "..#.....#....#.#....#......#...\n" +
            ".......#..#..#............#...#\n" +
            ".#.....#.......#..#..#..#......\n" +
            "......##.......................\n" +
            "#..#...#.#.#....#.....#..#.....\n" +
            "...................#...#...#...\n" +
            "........#....##..#....#........\n" +
            "##......#.#......##.###........\n" +
            ".........#...##................\n" +
            ".......#...#...#.......##......\n" +
            "....#.......#......#.........##\n" +
            "....#....#.#..#.....#..........\n" +
            "...........#.......#........#..\n" +
            "..#.........###.#........#.....\n" +
            ".......#...........#.#.....##..\n" +
            "..#...#..#..........#..........\n" +
            "..........#.#....#.............\n" +
            ".##....#........##.............\n" +
            ".............#.#####........#.#\n" +
            ".................##...#........\n" +
            "##...#.#.......##........#.....\n" +
            ".#...#...#..#..#....#....#.....\n" +
            "..#...#........#..#............\n" +
            "##...#.#........#......##.#..##\n" +
            ".##......#..............##.#..#\n" +
            ".........#...#............#...#\n" +
            "....#..#....#...........#......\n" +
            "........#..#....#...##...#.....\n" +
            "..#..............#...#.#.....#.\n" +
            ".#.......#.#.....#..###.......#\n" +
            "...................#.......#...\n" +
            "........##.....#..#.......##...\n" +
            ".....#....................#...#\n" +
            "...#.#....#............#.#.....\n" +
            "#.......#.......#....#.........\n" +
            "..#...............#............\n" +
            "##...#...#...#..............#..\n" +
            "...#..........#..#....##.......\n" +
            "#............##.##......#.#.#..\n" +
            ".#...........#.........#....##.\n" +
            "..##....##.#....#.#.#.##...##.#\n" +
            "........#.#.#.............#....\n" +
            ".#...........#....##...#...#.#.\n" +
            ".##...#.................#......\n" +
            "....#.#..#....................#\n" +
            ".##......#........#..#.........\n" +
            "...#...............#...........\n" +
            ".#.#..##..##.#........#........\n" +
            "...........#....#.#.#......#...\n" +
            "...................#........#.#\n" +
            "..#............#...#.#........#\n" +
            "....#....#.#.##......#...#.....\n" +
            "..................#............\n" +
            "..........................#....\n" +
            "........#......................\n" +
            "......#.#...#.#..##......#.#.#.\n" +
            ".........#...#..#..............\n" +
            "..#.......#..........##..#.....\n" +
            ".........#............#........\n" +
            "......#..#..#...###....#....#..\n" +
            "#..#..............##.###..##..#\n" +
            ".#..................#.....#...#\n" +
            "........#........#........#....\n" +
            ".........#........#.##......#..\n" +
            "..#.....#.#..###...#....#......\n" +
            "..#................##....#.....\n" +
            "..#.#....##.....#......##...#..\n" +
            "...#.......#........##.........\n" +
            "#........#...#.#..........##..#\n" +
            "................#...#.#.....#..\n" +
            ".........#..#..#.#..#.#...#....\n" +
            "##....#...##.........#.#...#.##\n" +
            "....#..#.....##.....#.....##...\n" +
            "................#............#.\n" +
            "..#..#...#.....#......#.....##.\n" +
            "....#.......#...#...#...#..#...\n" +
            "....#..##....#.###.#...#..#....\n" +
            "#..##.....#.....#.##..##...##.#\n" +
            ".............###..........#....\n" +
            "..................#.....###....\n" +
            "..........#....#...#......#....\n" +
            "...#..##.......#......#.#...#..\n" +
            "..#.......................##.#.\n" +
            "..#..#..#....#......#...#...##.\n" +
            "#.............#................\n" +
            "..........#.#.#.........#.#....\n" +
            ".....##..#......##.#...........\n" +
            ".#.#.#.#....#.#...#.....#.#...#\n" +
            "......#.....##..............##.\n" +
            "#..#.......##..##..............\n" +
            "#..#..#................###.....\n" +
            ".....#......#.........#........\n" +
            "#...........#........#.#.......\n" +
            "#........#.#...#....#....###..#\n" +
            "###..#.#...........#.##.....#.#\n" +
            "..#..........#..#............#.\n" +
            "...#....#.......#..#.....###...\n" +
            ".#....#.##.#..###..............\n" +
            ".....#.##.##.......###.##...#.#\n" +
            "..#..##.......###..............\n" +
            ".#.........###..#..............\n" +
            "..................###.....#..#.\n" +
            "#....#....#.........#.....#....\n" +
            ".........#.#..#....#.....#.....\n" +
            "....##.......##.......#.#......\n" +
            ".....#...#.##.....#............\n" +
            "....#.#.#.......#..............\n" +
            ".##..#.#..#.......##...........\n" +
            "....#....##..#.....##.......#.#\n" +
            ".....##....#..#.#........#.....\n" +
            "........#.#.#....#....##...#..#\n" +
            "..#......#.#.#..#.##....#.#.#..\n" +
            "..#...#........#..#..........#.\n" +
            ".........#...................#.\n" +
            "........#.....##..#....#....#..\n" +
            "#..............#..........#....\n" +
            "#........#.#...........#.#.....\n" +
            "..#......................#.#..#\n" +
            ".........#.#.....#.#..........#\n" +
            "......#....#.#.##........#.....\n" +
            ".#....##......##..#...#.......#\n" +
            "..#........#...#.##....#..#.#..\n" +
            ".......#.....#..........#.....#\n" +
            ".........#.#..#.........#....#.\n" +
            "..........#.##.........##..#...\n" +
            "......#.#..#.....#.#..........#\n" +
            "......#.#.#..#..#.#............\n" +
            "...##.#..#..............#....#.\n" +
            "#..........#...................\n" +
            ".#....#..#.#.......#........#..\n" +
            "...#...#......#....#......#....\n" +
            "..#.#.......#.......#.......#.#\n" +
            "...#.#...#........#.....#......\n" +
            "#.......#..#...................\n" +
            "#..#..#.............#..#..#..#.\n" +
            "#.......................#....##\n" +
            ".#.........#....#....#.........\n" +
            "...............#...#..#....#..#\n" +
            "#.....#.#...#.#.....#..........\n" +
            "....##.#..#...#.#....###...#.#.\n" +
            ".................#....#........\n" +
            "####.......##...##.......#.##..\n" +
            "#..#....#....##............#...\n" +
            "..##......#..#........#........\n" +
            "....#..#..........#......#...##\n" +
            "..#.#.............#...........#\n" +
            "#...............#...#.......#.#\n" +
            "#..#.........#.##.#.......#...#\n" +
            "......#.....#.............#...#\n" +
            "......#.##.........##...#......\n" +
            "..#......##.#........#.......#.\n" +
            "#..#.........#.##..............\n" +
            "..#....#...#...#..#.....#.#....\n" +
            "................#.......#......\n" +
            "#.....#..............##....#.##\n" +
            "##.....#...#.#.....#..##...#...\n" +
            "#.#............##..........#..#\n" +
            "..#.##......#..#....#..........\n" +
            "....##.#....#.......##.....#...\n" +
            "......#.#....###...#...........\n" +
            "..................#......#....#\n" +
            "..............##...............\n" +
            "......#..#....#.....#..........\n" +
            ".......#........#...#..........\n" +
            "..#......#......##..#.##..#....\n" +
            "..#.#...#...............#......\n" +
            "....#.#.............#.#......#.\n" +
            "....#.#.....#......#..#.......#\n" +
            "........................#..#...\n" +
            ".................#...........#.\n" +
            "#......#......#.#.#.....##.....\n" +
            "..#....##...#.....##.#.....#..#\n" +
            "....#.........#....#.##.#.#....\n" +
            "..#....###.....................\n" +
            ".....#.#....#......#....##....#\n" +
            "#.......#...#......##.......#..\n" +
            "#....#.........##.....#........\n" +
            "#.....#...........#..#.....#...\n" +
            ".................#.....#..##..#\n" +
            "..#...#......####...##.........\n" +
            "...............................\n" +
            "#........#.....#...............\n" +
            ".#.........#....#.#......##....\n" +
            "...#..........#.........#.#.#.#\n" +
            "......##......#....###........#\n" +
            ".....................#.#.#.....\n" +
            "......#..#..#.......#...#......\n" +
            "...##.#.............#.#.......#\n" +
            "..#.#...#..#....#.....#.....#..\n" +
            "..#..#.....................#..#\n" +
            "........#....#..........#..#...\n" +
            "#.##....#..#.#..#............#.\n" +
            "..............###.............#\n" +
            ".#.#..........#.#....#...#....#\n" +
            "....#..........#.#..#......#...\n" +
            ".........##.#...#..............\n" +
            "..................#.....#.#....\n" +
            ".#....#.......#.##.#.........#.\n" +
            ".##..#...#......#..#...........\n" +
            ".#.........#..........#.#......\n" +
            "#.#......#.#.#.#.......#...#.#.\n" +
            ".......#....#.#......#......#..\n" +
            "...#..#....#.#..#..##...##.....\n" +
            "#.#.#.......#....#.........##..\n" +
            "#..#....#........###....#.#....\n" +
            "....#..#.........#....#...#....\n" +
            "...#.#.#.#..#..##.....#.##.....\n" +
            ".......#.......#...............\n" +
            "#.#.#......##....#.............\n" +
            "...#.##........#.....#...##.#..\n" +
            "...#.#.###..........#.......#..\n" +
            ".....#...#.......#.........#...\n" +
            "............#..#...#..##.......\n" +
            "...#....#..##.##..........#.##.\n" +
            "..................#........#...\n" +
            "....#.##.#.##........#.#.......\n" +
            ".#...........##.....##.......#.\n" +
            "#...#.........#.....##.........\n" +
            "#..#....#.#.........#..........\n" +
            "..#......#.#.#......#.....#..#.\n" +
            "..##......#..............#.....";
}
